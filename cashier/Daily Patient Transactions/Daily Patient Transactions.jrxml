<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.8.0.final using JasperReports Library version 6.8.0-2ed8dfabb690ff337a5797129f2cd92902b0c87b  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Daily Patient Transactions" pageWidth="842" pageHeight="595" orientation="Landscape" whenNoDataType="NoDataSection" columnWidth="842" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" isIgnorePagination="true" uuid="8a465670-cc4a-4270-965f-8efb86e33b71">
	<property name="template.engine" value="tabular_template"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="postgre UAT"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<style name="Table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
			<topPen lineWidth="1.0" lineColor="#000000"/>
			<leftPen lineWidth="1.0" lineColor="#000000"/>
			<bottomPen lineWidth="1.0" lineColor="#000000"/>
			<rightPen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#EFEFEF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="tableDataset" uuid="3db3b095-7881-4b05-817b-6f76c63a0758">
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="postgre UAT"/>
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<parameter name="Begin Date" class="java.util.Date"/>
		<parameter name="End Date" class="java.util.Date"/>
		<parameter name="AD_CLIENT_ID" class="java.lang.Integer" isForPrompting="false"/>
		<parameter name="Payment Mode" class="java.lang.String"/>
		<queryString language="SQL">
			<![CDATA[SELECT 
    patientsummary.name AS GivenName,
    patientsummary.created AS Created,
    patientsummary.grandtotal AS GrandTotal,
    patientsummary.totalopenbalance AS TotalOpenBalance,
    patientsummary.ad_client_id AS AD_Client_ID,
    patientsummary.ad_org_id AS AD_Org_ID,
    patientsummary.totalpayments AS TotalPayments,
    patientsummary.c_orderline_id AS C_Orderline_ID,
    patientsummary.c_invoiceline_id AS C_Invoiceline_ID,
    patientsummary.c_invoice_id AS C_Invoice_ID,
    patientsummary.c_payment_id AS C_Payment_ID,
    patientsummary.client_name AS Client_Name,
    patientsummary.tendertype AS PaymentMode,
    CASE 
    	WHEN patientsummary.totalpayments > patientsummary.grandtotal 
    		THEN patientsummary.grandtotal
   	 	ELSE patientsummary.totalpayments 
    END AS NetPayment
FROM bh_patient_transactions_v as patientsummary
WHERE ad_client_id = $P{AD_CLIENT_ID}
AND (date(created) BETWEEN date($P{Begin Date}) AND date($P{End Date}))
AND ($P{Payment Mode} IS NULL OR $P{Payment Mode} = '''' OR tendertype = $P{Payment Mode})
ORDER BY Created ASC;]]>
		</queryString>
		<field name="givenname" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="givenname"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="created" class="java.sql.Timestamp">
			<property name="com.jaspersoft.studio.field.label" value="created"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="grandtotal" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="grandtotal"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="totalopenbalance" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="totalopenbalance"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="ad_client_id" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="ad_client_id"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="ad_org_id" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="ad_org_id"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="totalpayments" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="totalpayments"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="c_orderline_id" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="c_orderline_id"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="c_invoiceline_id" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="c_invoiceline_id"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="c_invoice_id" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="c_invoice_id"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="c_payment_id" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="c_payment_id"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="client_name" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="client_name"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="paymentmode" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="paymentmode"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
		</field>
		<field name="netpayment" class="java.math.BigDecimal">
			<property name="com.jaspersoft.studio.field.label" value="netpayment"/>
		</field>
		<variable name="TotalPayments" class="java.lang.Float" calculation="Sum">
			<variableExpression><![CDATA[$F{netpayment}]]></variableExpression>
		</variable>
		<variable name="TotalCharges" class="java.lang.Float" calculation="Sum">
			<variableExpression><![CDATA[$F{grandtotal}]]></variableExpression>
		</variable>
		<variable name="TotalChange" class="java.lang.Float">
			<variableExpression><![CDATA[$V{TotalPayments} - $V{TotalCharges}]]></variableExpression>
		</variable>
	</subDataset>
	<parameter name="Begin Date" class="java.util.Date"/>
	<parameter name="End Date" class="java.util.Date"/>
	<parameter name="AD_CLIENT_ID" class="java.lang.Integer" isForPrompting="false"/>
	<parameter name="Payment Mode" class="java.lang.String"/>
	<queryString>
		<![CDATA[SELECT
    patientsummary.ad_client_id AS ad_client_id,
    patientsummary.ad_org_id AS ad_org_id
FROM bh_patient_transactions_v as patientsummary
WHERE ad_client_id = $P{AD_CLIENT_ID}
AND date(created) BETWEEN  date($P{Begin Date}) AND date($P{End Date})]]>
	</queryString>
	<field name="ad_client_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.label" value="ad_client_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
	</field>
	<field name="ad_org_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.label" value="ad_org_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="bh_patient_transactions_v"/>
	</field>
	<summary>
		<band height="40" splitType="Stretch">
			<property name="local_mesure_unitheight" value="pixel"/>
			<componentElement>
				<reportElement stretchType="ContainerBottom" x="0" y="0" width="842" height="40" uuid="a9908140-e092-47f9-8aa0-2ad5a3da5be8">
					<property name="com.jaspersoft.studio.table.style.table_header" value="Table_TH"/>
					<property name="com.jaspersoft.studio.table.style.column_header" value="Table_CH"/>
					<property name="com.jaspersoft.studio.table.style.detail" value="Table_TD"/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="tableDataset" uuid="d098847b-6c57-4c43-8e53-65039579a699">
						<datasetParameter name="Begin Date">
							<datasetParameterExpression><![CDATA[$P{Begin Date}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="End Date">
							<datasetParameterExpression><![CDATA[$P{End Date}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="AD_CLIENT_ID">
							<datasetParameterExpression><![CDATA[$P{AD_CLIENT_ID}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="Payment Mode">
							<datasetParameterExpression><![CDATA[$P{Payment Mode}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="170" uuid="4a5e052d-d311-4102-94ff-ec09f066a0e0">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
						<jr:columnHeader style="Table_CH" height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="170" height="20" uuid="507275b0-fe75-47ec-a0cc-9cff8f2efa9e"/>
								<box leftPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Date
]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="20">
							<property name="com.jaspersoft.studio.unit.height" value="px"/>
							<textField pattern="dd MMM yyyy hh:mm" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="170" height="20" uuid="3796245c-eacc-43eb-bada-de42066f4049"/>
								<box leftPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{created}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="170" uuid="ae9ef05b-355f-48ad-bc24-477ee5336bb9">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
						<jr:columnHeader style="Table_CH" height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="170" height="20" uuid="75f58e29-3eea-4369-9942-020b91e6efd0"/>
								<box leftPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Patient Name]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="20">
							<textField isBlankWhenNull="true">
								<reportElement x="0" y="0" width="170" height="20" uuid="c24b66c4-0eb7-409c-897f-8e344656814b"/>
								<box leftPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{givenname}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="90" uuid="1d14d18f-ad89-45e9-b72b-ae8a08789287">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
						<jr:columnHeader style="Table_CH" height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="90" height="20" uuid="9709a045-4e7c-4f4a-82d1-6078282578af"/>
								<box leftPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Charges]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="20">
							<textField isBlankWhenNull="true">
								<reportElement x="0" y="0" width="90" height="20" uuid="836d0123-c1a3-40c4-bbcc-edb4d85fccf0"/>
								<box leftPadding="2"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{grandtotal}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="110" uuid="121d69d1-9498-4ece-a4af-c51d98ff6ca0">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column4"/>
						<jr:columnHeader style="Table_CH" height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="110" height="20" uuid="ad1bf54e-4c81-45ea-a47a-d3282b8b1258"/>
								<box leftPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Net Payment]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="20">
							<textField isBlankWhenNull="true">
								<reportElement x="0" y="0" width="110" height="20" uuid="43a0a175-668e-483f-96c3-5e304c03e879"/>
								<box leftPadding="2"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{netpayment}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="140" uuid="40edd602-eb95-48f8-9f01-6292a9546a32">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column5"/>
						<jr:columnHeader style="Table_CH" height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="140" height="20" uuid="8b447e37-17f4-49c0-b301-ae9bc10b8b5c"/>
								<box leftPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Payment Mode]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="20">
							<textField isBlankWhenNull="true">
								<reportElement x="0" y="0" width="140" height="20" uuid="183708d5-ae4d-4739-8edb-66eeb81112bd"/>
								<box leftPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{paymentmode}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="162" uuid="e9ae835f-afbe-4f4b-bbc5-a03b0debd681">
						<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column6"/>
						<jr:columnHeader style="Table_CH" height="20" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="162" height="20" uuid="d7cf0a90-e046-42c3-be5a-ede52b7d4544"/>
								<box leftPadding="2"/>
								<textElement verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12" isBold="true"/>
								</textElement>
								<text><![CDATA[Outstanding Balance]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="Table_TD" height="20">
							<textField isBlankWhenNull="true">
								<reportElement x="0" y="0" width="162" height="20" uuid="d66be930-f17a-4b73-94a2-84bf204551cd"/>
								<box leftPadding="2"/>
								<textElement textAlignment="Right" verticalAlignment="Middle">
									<font fontName="DejaVu Sans" size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{totalopenbalance}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</summary>
	<noData>
		<band height="16">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement x="0" y="0" width="842" height="16" uuid="c9d29787-5973-4a2f-a82b-bd7e3ea81283">
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font isBold="false" isItalic="true"/>
				</textElement>
				<text><![CDATA[No data was found to display on the report.]]></text>
			</staticText>
		</band>
	</noData>
</jasperReport>
